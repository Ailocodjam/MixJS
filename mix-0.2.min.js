(function(a,b,c){function A(a){return y[a]===3}function B(a){return x[a]===3}function C(a,b,c){a=String(a).split(",");var d=a.length;if(d===0)return a[0]===""?p:a;var e=[],f={},g;for(var h=0;h<d;h++)g=a[h],g!==""&&!f[g]&&(f[g]=1,e.push(g),b==="define"&&(F.parentModule[g]=c));return f=null,e}function D(a){var b=w[a];if(!b||b.length===0)return!0;var c={},d=!0;for(var e=0,f=b.length;e<f;e++){var g=b[e];if(g===a)throw new Error(a+"\uff1a \u53d1\u73b0\u5faa\u73af\u4f9d\u8d56");if(c[g]===1)continue;if(v.test(g)&&u[g]){if(B(u[g])){c[g]=1;continue}d=!1;break}if(I.test(g)){if(B(L(g)[0])){c[g]=1;continue}d=!1;break}var h=w[g];if(h&&!(d=D(g)))break;if(!A(g)){d=!1;break}c[g]=1}return c=null,d}function F(a,b,c,d){this.id=a,this.deps=b,this.maker=c,this.root=d||z,D(a)?this.namespace():this.init()}function L(a,b){var c;b=b||t.path,b=b.substr(0,b.lastIndexOf("/"));if(v.test(a)&&u[a])c=u[a];else if(G.test(a))c=a;else{var d=a.charAt(0),e=a.slice(0,2);if(d!=="."&&d!=="/")c=b+"/"+a;else if(e==="./")c=b+"/"+a.substr(2);else if(e===".."){var f=b.replace(/\/$/,"").split("/");J.lastIndex=0,d=a.replace(J,function(){return f.pop(),""}),c=f.join("/")+"/"+d}}var g="js";return d=c.replace(/[?#].*/,""),K.test(d)&&(g=RegExp.$1),g!=="css"&&d===c&&!H.test(c)&&(c+=".js"),[c,g]}function M(a){this.id=a,this.taskList=[]}function N(a,b,c,d){if(z.isArray(a)){var e=[],f=function(){var a=e.shift();e.length===0&&b()};s(a,function(a,b){e.push(a),O(a,f,c,d)})}else O(a,b,c,d);return z}function O(a,b,c,d){var e=L(a),a=e[0];e[1]==="css"?T(a,b):P(a,b,c,d)}function P(a,c,d,e){var f=b.createElement("script"),g=r.call(arguments,0);if(z.isString(d)&&g.length===3)e=d;else if(g.length!==4||!z.isString(e))e=t.charset;return z.isFunction(c)&&R(f,c,d),f.charset=e,f.async="async",f.src=a,j.insertBefore(f,k),z}function R(a,b,c){z.isFunction(c)?(a.onerror=S(a,c),a.onload=a.onreadystatechange=S(a,b)):a.onload=a.onerror=a.onreadystatechange=S(a,b)}function S(b,d){return function(e){e=e||a.event;if(e.type==="load"||Q.test(b.readyState))b.onload=b.onerror=b.onreadystatechange=null,b.parentNode&&!t.debug&&j.removeChild(b),b=c,d()}}function T(a,c){var d=b.createElement("link");return d.rel="stylesheet",d.type="text/css",z.isFunction(c)&&W(d,c),d.href=a,j.insertBefore(d,k),z}function X(a,b){var c;if(U)a.sheet&&(c=!0);else if(a.sheet)try{a.sheet.cssRules&&(c=!0)}catch(d){d.name==="NS_ERROR_DOM_SECURITY_ERR"&&(c=!0)}setTimeout(function(){c?b():X(a,b)},1)}function Y(a,b){return o.toString.call(a).slice(8,-1)===b}function Z(a,b){var c=r.call(arguments),d=1,e,f=arguments.callee,g=z.isBoolean(c[c.length-1])?c.pop():!0;c.length===1&&(a=this.window?o:this,d=0);while(b=c[d++]){if(z.isArray(b)){for(var h=0,i=b.length;h<i;h++)f(a,b[h],g);continue}for(e in b)if(g||!(e in a))a[e]=b[e]}return a}var d="0.2",e=function(a,c){return a=b.getElementsByTagName("script"),c=a[a.length-1],c}(),f=!!e.getAttribute("debug"),g=e.getAttribute("name")||"MixJS",h=e.getAttribute("charset")||"utf-8",i=function(a){var b=a.hasAttribute?a.src:a.getAttribute("src",4);return b.substr(0,b.lastIndexOf("/"))+"/"}(e),j=b.head||b.getElementsByTagName("head")[0]||b.documentElement,k=j.getElementsByTagName("base")[0]||null,l=navigator.userAgent,m=~l.indexOf("AppleWebKit"),n=/[^, ]+/g,o={},p=[],q=function(){},r=p.slice,s=[].forEach?function(a,b,c){[].forEach.call(a,b,c)}:function(a,b,c){for(var d=0,e=a.length;d<e;d++)d in a&&b.call(c,a[d],d,a)},t={path:i,perload:p,debug:f,charset:h},u={},v=/^[-\w\d_$]{2,}$/i,w={},x={},y={},z={VERSION:d,alias:function(a,b){if(v.test(a))return z.isUndefined(b)?u[a]:(b=String(b),u[a]=b,this);throw new Error("MixJS.alias name \u683c\u5f0f\u9519\u8bef")},use:function(a,b){a=C(a);if(a.length===0)return z.isFunction(b)&&b(),this;var c=[],d=this;return s(a,function(a){var e=L(a),f=e[1],g=e[0];if(!A(a)||f==="css"&&x[g]===3){c.push(a);var h=function(){x[g]=3,c.pop();if(c.length===0){var e=function(){if(A(a)||f==="css")b(d);else{var c=M.useCallback[a];c=c?c:M.useCallback[a]=new M(a),c.push(arguments.callee)}};e(),c=null}};f==="css"?T(g,h):P(g,h)}}),this},define:function(a,b,c){if(!z.isString(a))throw new Error("MixJS.define: name \u5fc5\u987b\u4e3a\u5b57\u7b26\u4e32");return z.isFunction(b)?(c=b,b=p):b=C(b,"define",a),w[a]=b,new F(a,b,c),this},config:function(a){return t=Z(t,a),this},loadJS:P,loadCSS:T,defined:A,loaded:function(a){var b=L(a)[0];return B(b)},mix:Z,each:s,noConflict:function(){return this}};"Function,String,Array,Number".replace(n,function(a){z["is"+a]=function(b){return Y(b,a)}}),typeof /./!="function"&&(z.isFunction=function(a){return typeof a=="function"}),z.isBoolean=function(a){return a===!0||a===!1||Y(a,"Boolean")},z.isUndefined=function(a){return a===c},a[g]=z,g!=="MixJS"&&(a.MixJS=z);var E={};F.parentModule={},F.prototype.init=function(){E[this.id]=this;var a=this;z.use(this.deps,function(){a.namespace()})},F.prototype.destroy=function(){for(var a in this)this.hasOwnProperty(a)&&delete this[a]},F.prototype.namespace=function(){if(!this.id)return;if(!D(this.id))return;var a=this.id.split("/"),b=this.root,c;while(c=a.shift())if(a.length)b=b[c]=b[c]||{};else if(z.isUndefined(b[c]))try{var d=z.isFunction(this.maker)&&this.maker(this.root);d&&(d["@GOD"]="THEO",b[c]=d,y[this.id]=3)}catch(e){throw new Error("Module.namespace error:id=>"+this.id+",info=>"+e.message)}var f=F.parentModule[this.id];f&&E[f]&&E[f].namespace();var g=M.useCallback[this.id];g&&g.fire(),delete E[this.id],this.destroy()};var G=/^(\w+)(\d)?:.*/,H=/\.js$/i,I=/\.css$/i,J=/\.\.\//g,K=/\.(\w+)$/;M.useCallback={},M.prototype.push=function(a,b,c){return this._add(a,b,c,"push")},M.prototype.unshift=function(a,b,c){return this._add(a,b,c,"unshift")},M.prototype._add=function(a,b,c,d){return d?(b=r.call(arguments,0,-1),b.length===0?this:(this.taskList[d](b),this)):this},M.prototype.fire=function(){if(this._canIDo()){var a=this.taskList.pop(),b=z.isArray(a[1])?a[1]:[],c=a[2]||null;a=a[0],z.isFunction(a)&&a.apply(c,b),this.destroy()}return this},M.prototype.destroy=function(){this.taskList.length=0,delete this.taskList,delete M.useCallback[this.id],delete this.id},M.prototype._canIDo=function(){return this.taskList.length!==0};var Q=/loaded|complete|undefined/,U=Number(l.replace(/.*AppleWebKit\/(\d+)\..*/,"$1"))<536,V=l.indexOf("Firefox")>0&&!("onload"in b.createElement("link")),W=U||V?function(a,b){setTimeout(function(){X(a,b)},1)}:function(a,b){a.onload=a.onerror=function(){a.onload=a.onerror=null,a=c,b()}}})(window,document);